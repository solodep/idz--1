
**Вариант 7:**

---

## 1. ФИО
- **ФИО:** Солод Алексей Александрович 
- **Группа:** БПИ-248

---

## 2. Условие задачи
Ввести массив `A` из `N` целых (`1 ≤ N ≤ 10`).  
Сформировать массив `B`, записав в него индексы (1-based) элементов `A`, которые строго **положительные**.  
Вывести `A`, `B` и `|B|`. При некорректном `N` — завершить работу с сообщением об ошибке.

---

## 3. Структура проекта
├─ main_stdin.asm # основная программа: ввод с клавиатуры, вывод результатов
├─ lib_algo.asm # алгоритм build_indices_pos(&A,N,&B)->M (локальные на стеке)
├─ lib_io.asm # печать массива и парсер целых из буфера
├─ macros.inc # макросы-обёртки для ecall/вызовов подпрограмм
├─ tests.asm # отдельная программа автотестов (Case 1..3)

---

## 4. Сборка и запуск

- включить: **Assemble all files currently open**
- включить: **Initialize Program Counter to global ‘main’ if defined**

### Основная программа
1) Открыть: `main_stdin.asm`, `lib_io.asm`, `lib_algo.asm`, `macros.inc`  
2) **Assemble → Run**  
3) Ввести `N`, затем **ровно N** целых (можно в несколько строк)

### Автотесты
1) Открыть: `tests.asm`, `lib_algo.asm`, `macros.inc`  
2) **Assemble → Run** — появятся строки `Case 1..3: PASS/FAIL`


---

## 5. Ключевая подпрограмма

### `build_indices_pos(&A, N, &B) -> M`
- **Вход:** `a0=&A`, `a1=N`, `a2=&B`  
- **Выход:** `a0=M` — число записанных индексов  
- **Алгоритм:** один проход `i=0..N-1`: если `A[i] > 0`, то `B[m++] = i+1`  
- **Стек:** кадр 36 байт (сохранённые `ra`, `s*`, копии параметров)  
- **Сложность:** `O(N)` по времени, `O(1)` доп.память (кроме `B`)

---

## 6. Примеры запуска
Ввод:
Enter N (1..10): 7
Enter A[0..N-1] separated by spaces/newlines:
-2 5 0 7 -1 9 4
Вывод:
Source A: [ -2 5 0 7 -1 9 4 ]
Result B (1-based indices of positives): [ 2 4 6 7 ]
Count |B|: 4


Ввод:
N = 5
A = -3 0 -1 -8 -2
Вывод:
Source A: [ -3 0 -1 -8 -2 ]
Result B (1-based indices of positives): [ ]
Count |B|: 0


Ввод:
N = 0
Вывод:
Error: N must be in [1..10].

---

## 7. Автотесты (tests.asm)
Проверяются три набора:
1. `A = [-1, 0, 2, -5, 3]` → `B = [3, 5]`, `M = 2` → **PASS**  
2. `A = [0, 0, -7]` → `M = 0` → **PASS**  
3. `A = [5, 1, 9]` → `B = [1, 2, 3]`, `M = 3` → **PASS**  

---

## 8. Соответствие критериям
- **4–5:** консольный ввод; печать `A` и `B` с пояснениями; проверка диапазона `N`; комментарии в коде  
- **6–7:** подпрограммы с параметрами; **локальные переменные на стеке**; комментарии у вызовов (что передаём/что получаем)  
- **8:** модульность и **отдельная тестовая программа**  
- **9:** библиотека **макросов** `macros.inc`, используется и в `main`, и в `tests`

